# API Gateway と Cognito

## ユーザプールを使った認証

### Cognitoユーザプール

- AWS Cognito が用意しているユーザディレクトリ
- サインアップおよびサインインサービス
- ユーザディレクトリとユーザプロファイルの管理
- 多要素認証(今回は使わず)
- 漏洩した認証情報のチェック, アカウント乗っ取り保護(今回は使わず)
- Lambdaトリガーによるユーザ以降(今回は使わず)

### サードパーティ: Google

- OIDC IdP を使う場合は OIDC Id authorizationエンドポイントにリダイレクト
- Cognitoは OIDC IdP　の認証コードをアクセストークンと交換する
- Cognitoは ユーザプールのユーザアカウントを作成または更新する
- Cognitoは アプリケーション用のベアラートークンを発行


## IDプール

- 使わない
- lambdaに権限を設定しそれと関連づけたAPI Gatewayでサービスを提供する方がセキュア

## アプリクライアントってなんだ

### PKCE

https://qiita.com/TakahikoKawasaki/items/00f333c72ed96c4da659

## 
